# 웹소켓 vs 소켓

**Websockets vs. Sockets**

웹소켓 통신과 일반적인 소켓 통신의 주요 차이점은 다음과 같습니다:
1. 프로토콜:
    - 웹소켓: 웹소켓은 HTTP와 비슷한 프로토콜을 기반으로 하며, 서버와 클라이언트 간에 양방향 통신을 제공합니다. 웹소켓 연결은 HTTP를 통해 시작되고, 연결이 이루어진 후에는 TCP 기반의 양방향 통신이 이루어집니다.
    - 일반적인 소켓: 소켓 통신은 주로 TCP 또는 UDP와 같은 네트워크 프로토콜을 사용하며, 직접적인 데이터 스트림을 통해 양방향 통신을 제공합니다. HTTP나 웹 관련 프로토콜과는 별개로 작동합니다.
2. 사용 사례:
    - 웹소켓: 주로 웹 애플리케이션에서 실시간 데이터 푸시 및 상호작용을 구현하는 데 사용됩니다. 채팅 앱, 온라인 게임, 주식 시장 데이터 업데이트 등에 적합합니다.
    -  일반적인 소켓: 네트워크 응용 프로그램 간에 데이터를 전송하는 데 사용됩니다. 파일 전송, 클라이언트-서버 통신, IoT 장치 간 통신 등 다양한 응용 분야에서 사용됩니다.
3. 연결 유지:
    - 웹소켓: 웹소켓은 지속적인 연결을 유지하며, 클라이언트 및 서버 간에 데이터를 실시간으로 교환할 수 있도록 설계되었습니다.
    - 일반적인 소켓: 소켓 통신은 필요에 따라 연결을 설정하고 해제할 수 있으며, 연결이 설정된 후에도 데이터를 주고받을 수 있습니다.
4. 보안:
    - 웹소켓: 웹소켓은 웹 브라우저와 웹 서버 간에 주로 사용되므로, 보안 및 인증 측면에서 웹보안 기술을 활용할 수 있습니다.
    - 일반적인 소켓: 소켓 통신은 더 낮은 수준의 프로토콜을 사용하므로, 보안 및 인증을 개발자가 직접 구현해야 합니다.
웹소켓과 일반적인 소켓은 각각의 사용 사례와 요구 사항에 따라 선택되며, 어떤 유형을 사용할지는 프로젝트의 목적과 환경에 따라 다를 수 있습니다.

## Websocket 통신 
- http 프로토콜에서 시작. Http handshake가 성공적이면 클라이언트-서버가 http요청을 위해 설정된 기존 tcp연결을 websocket 연결로 사용

**장점** 
1. 새로운 커넥션 필요x. 각 메시지크기를 대폭줄임(http 헤더 필요x) 대역폭 절약 지연시간 개선 및 서버측 부담 감소
2. 기술설계의 유연성. 애플리케이션 레벨프로토콜과 추가적 기능(pub/sub메시징)을 위한 확장 구현이 가능
3. 클라이언트의 요청없이 데이터 전송이 가능.  이러한 특성은 이벤트(위험경보와같은)에 대해 클라이언트가 신속하게 대응해야하는 경우 적합

**단점**

1. Http와다르게 stateful하므로 확장성에 문제
2. 연결이 종료되었을때 자동으로 복구되지않으므로 웹소켓 클라이언트 측 라이브러리가 많이제공됨
3. 특정환경(프록시 서버가 있는 회사 네트워크)은 웹소켓 연결을 차단함
